"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2080],{2080:(U,f,s)=>{s.r(f),s.d(f,{HomePageModule:()=>N});var l=s(6895),c=s(8058),x=s(433),T=s(9430),v=s(5463),g=s(4973),p=s(6939),t=s(1571),_=s(5054),w=s(1085);function F(n,i){1&n&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2,"Ti\xeau ch\xed b\u1ed1c th\u0103m chia b\u1ea3ng"),t.qZA()())}function A(n,i){1&n&&(t.TgZ(0,"div",3)(1,"span",5),t._uU(2,"1. B\u1ed1n \u0111\u1ed9i h\u1ea1t gi\u1ed1ng (Stechco 1, CICC, Viet United FC, Calgary VFC) \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp ng\u1eabu nhi\xean v\xe0o 4 b\u1ea3ng (A-D) \u1edf v\u1ecb tr\xed A1-D1 "),t.qZA()())}function C(n,i){1&n&&(t.TgZ(0,"div",3)(1,"span",5),t._uU(2,"2. Kh\xf4ng c\xf3 qu\xe1 3 \u0111\u1ed9i c\xf9ng 1 bang v\xe0o c\xf9ng 1 b\u1ea3ng (\u0111\u1ed1i v\u1edbi bang Quebec v\xe0 Ontario) "),t.qZA()())}function Z(n,i){1&n&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2,"3. Hai \u0111\u1ed9i c\xf9ng CLB kh\xf4ng v\xe0o chung 1 b\u1ea3ng (Stechco1 v\xe0 Stechco2) "),t.qZA()())}function P(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.AsE("",e.content," ",e.repetitions!=e.repeatTimes?" - "+e.countdownDeplay+"s":"","")}}function S(n,i){if(1&n&&(t.TgZ(0,"ion-item",10)(1,"div",11),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",o.commonFunctions.getTeamImageStyle(e.name),t.LSH),t.xp6(2),t.Oqu(o.commonFunctions.generateTeamName(e,!0))}}function E(n,i){if(1&n&&(t.TgZ(0,"ion-item",10)(1,"div",11),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",o.commonFunctions.getTeamImageStyle(e.name),t.LSH),t.xp6(2),t.Oqu(o.commonFunctions.generateTeamName(e,!0))}}function b(n,i){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col",6)(2,"div",7)(3,"h2",8),t._uU(4,"B\u1ea3ng A"),t.qZA(),t.TgZ(5,"ion-list"),t.YNc(6,S,5,2,"ion-item",9),t.qZA()()(),t.TgZ(7,"ion-col",6)(8,"div",7)(9,"h2",8),t._uU(10,"B\u1ea3ng B"),t.qZA(),t.TgZ(11,"ion-list"),t.YNc(12,E,5,2,"ion-item",9),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.teamsToShowA),t.xp6(6),t.Q6J("ngForOf",e.teamsToShowB)}}function y(n,i){if(1&n&&(t.TgZ(0,"ion-item",10)(1,"div",11),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",o.commonFunctions.getTeamImageStyle(e.name),t.LSH),t.xp6(2),t.Oqu(o.commonFunctions.generateTeamName(e,!0))}}function D(n,i){if(1&n&&(t.TgZ(0,"ion-item",10)(1,"div",11),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("src",o.commonFunctions.getTeamImageStyle(e.name),t.LSH),t.xp6(2),t.Oqu(o.commonFunctions.generateTeamName(e,!0))}}function H(n,i){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col",6)(2,"div",7)(3,"h2",8),t._uU(4,"B\u1ea3ng C"),t.qZA(),t.TgZ(5,"ion-list"),t.YNc(6,y,5,2,"ion-item",9),t.qZA()()(),t.TgZ(7,"ion-col",6)(8,"div",7)(9,"h2",8),t._uU(10,"B\u1ea3ng D"),t.qZA(),t.TgZ(11,"ion-list"),t.YNc(12,D,5,2,"ion-item",9),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.teamsToShowC),t.xp6(6),t.Q6J("ngForOf",e.teamsToShowD)}}function O(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"span",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.startCountdown())}),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij("Chu\u1ea9n b\u1ecb b\u1ed1c th\u0103m trong ",e.countdown," gi\xe2y")}}function I(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"span",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.scheduleDetail())}),t._uU(2,"Xem l\u1ecbch thi \u0111\u1ea5u chi ti\u1ebft"),t.qZA()()}}const B=function(n){return{"fireworks-container":n}},M=[{path:"",component:(()=>{class n{constructor(e,o){this.navCtrl=e,this.commonFunctions=o,this.teamAssignments={A:[],B:[],C:[],D:[]},this.showCongratulations=!1,this.repetitions=0,this.repeatTimes=5,this.teamsToShowA=[],this.teamsToShowB=[],this.teamsToShowC=[],this.teamsToShowD=[],this.countdown=30,this.waitTime=6e4,this.countdownDeplay=this.waitTime/1e3}ngOnInit(){this.startCountdown()}startCountdown(){const e=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(e),this.startGenerateTeams())},1e3)}startGenerateTeams(){this.showCongratulations=!1,this.repetitions=0,this.generateTeams(),setInterval(()=>{this.countdownDeplay--},1e3),this.regenerateInterval=setInterval(()=>{this.generateTeams()},this.waitTime)}generateTeams(){this.countdownDeplay=this.waitTime/1e3,this.repetitions++,this.content=this.repetitions!=this.repeatTimes?"B\u1ed1c th\u0103m th\u1eed l\u1ea7n th\u1ee9 "+this.repetitions:"K\u1ebft qu\u1ea3 b\u1ed1c th\u0103m ch\xednh th\u1ee9c",this.showCongratulations=this.repetitions==this.repeatTimes,this.repetitions==this.repeatTimes&&clearInterval(this.regenerateInterval),this.teamsToShowA=[],this.teamsToShowB=[],this.teamsToShowC=[],this.teamsToShowD=[],this.teamAssignments=this.generateTeamAssignments(p.u.SeedsTeam),this.updateTeamsToShow(this.teamAssignments)}updateTeamsToShow(e){for(let o=0;o<4;o++){let a=e.A[o],u=e.B[o],r=e.C[o],m=e.D[o];setTimeout(()=>{this.teamsToShowA.push(a),this.teamsToShowB.push(u),this.teamsToShowC.push(r),this.teamsToShowD.push(m)},1e3*o)}}generateTeamAssignments(e){this.shuffleArray(p.u.OntarioTeams),this.shuffleArray(p.u.QuebecTeams);const o=[...p.u.QuebecTeams,...p.u.OntarioTeams],a={A:[],B:[],C:[],D:[]};this.shuffleArray(e),e.forEach((r,m)=>{const h=Object.keys(a)[m];a[h].push(r)});const u=o.findIndex(r=>r.name===g.p.Stechco2);for(-1!==u&&o.push(...o.splice(u,1));o.length>0;){const r=o.pop();for(const m in a){const h=r.province;let d=a[m];if(d.every(q=>!this.areSameClub(r,q)&&!this.hasTwoTeamsFromSameProvince(d,h)&&!this.isGroupFull(d))){d.push(r);break}}}for(const r in a){let m=a[r];this.shuffleArray(m);let h=this.indexSeedTeam(m);m.unshift(m.splice(h,1)[0])}return a}shuffleArray(e){for(let o=e.length-1;o>0;o--){const a=Math.floor(Math.random()*(o+1));[e[o],e[a]]=[e[a],e[o]]}}getTeamImageStyle(e){return{"background-image":`url(${this.commonFunctions.getTeamImageStyle(e)})`}}scheduleDetail(){this.navCtrl.navigateRoot(v.F.RoundRobin,this.getGroupData())}getGroupData(){return{queryParams:{groupA:JSON.stringify(this.teamAssignments.A),groupB:JSON.stringify(this.teamAssignments.B),groupC:JSON.stringify(this.teamAssignments.C),groupD:JSON.stringify(this.teamAssignments.D)}}}areSameClub(e,o){return e.club===o.club}hasTwoTeamsFromSameProvince(e,o){return e.filter(u=>u.province===o).length>=2}indexSeedTeam(e){return e.findIndex(a=>a.name===g.p.Stechco1||a.name===g.p.CICC||a.name===g.p.VietUnitedFC||a.name===g.p.CalgaryVFC)}isGroupFull(e){return e.length>=4}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.SH),t.Y36(_.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:12,consts:[[3,"ngClass"],["class","happy-tournament",4,"ngIf"],[4,"ngIf"],[1,"happy-tournament"],[1,"happy-tournament-text"],[1,"happy-tournament-text",2,"text-align","center"],["size","6"],[1,"group-container"],[1,"group-heading"],["class","team-item",4,"ngFor","ngForOf"],[1,"team-item"],[1,"team-info"],[1,"team-image",3,"src"],[1,"team-name"],[1,"btn",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"app-toolbar-header"),t.TgZ(1,"ion-content")(2,"div",0),t.YNc(3,F,3,0,"div",1),t.YNc(4,A,3,0,"div",1),t.YNc(5,C,3,0,"div",1),t.YNc(6,Z,3,0,"div",1),t.YNc(7,P,3,2,"div",1),t.TgZ(8,"ion-grid"),t.YNc(9,b,13,2,"ion-row",2),t.YNc(10,H,13,2,"ion-row",2),t.qZA(),t.YNc(11,O,3,1,"div",1),t.YNc(12,I,3,0,"div",1),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngClass",t.VKq(10,B,o.repetitions==o.repeatTimes)),t.xp6(1),t.Q6J("ngIf",0==o.repetitions),t.xp6(1),t.Q6J("ngIf",0==o.repetitions),t.xp6(1),t.Q6J("ngIf",0==o.repetitions),t.xp6(1),t.Q6J("ngIf",0==o.repetitions),t.xp6(1),t.Q6J("ngIf",0!=o.repetitions),t.xp6(2),t.Q6J("ngIf",0!=o.repetitions),t.xp6(1),t.Q6J("ngIf",0!=o.repetitions),t.xp6(1),t.Q6J("ngIf",0!=o.countdown),t.xp6(1),t.Q6J("ngIf",o.repetitions==o.repeatTimes))},dependencies:[l.mk,l.sg,l.O5,c.wI,c.W2,c.jY,c.Ie,c.q_,c.Nd,w.H],styles:['.group-container[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:8px;padding:5px;margin-bottom:16px;text-align:center}.group-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:8px}.team-item[_ngcontent-%COMP%]{display:flex;align-items:center}.team-image[_ngcontent-%COMP%]{width:50px;height:50px;background-size:cover;background-position:center;margin-right:10px}.team-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:small}.team-name[_ngcontent-%COMP%]{flex-grow:1;font-size:medium;margin-left:10px}.team-item[_ngcontent-%COMP%]:last-child{border-bottom:none}ion-title[_ngcontent-%COMP%]{text-align:center}.happy-tournament[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:10px;margin-right:10px}.happy-tournament-text[_ngcontent-%COMP%]{font-size:18px;color:#8a2be2;padding:10px 5px;border-radius:8px;background-color:#f2f2f2;box-shadow:0 2px 4px rgba(0,0,0,.1);margin-top:15px}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;background-color:#0ff;padding:20px;border-radius:50px;font-size:large;font-weight:600;color:#8b008b;margin-top:20px;box-shadow:2px 2px 2px 1px rgba(0,0,0,.2)}.fireworks-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#fff;overflow:hidden}.fireworks-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;z-index:0}.fireworks-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;animation:_ngcontent-%COMP%_fireworks 4s infinite}@keyframes _ngcontent-%COMP%_fireworks{0%{background:radial-gradient(#FF0000,#FFA500)}25%{background:radial-gradient(#FFFF00,#FF00FF)}50%{background:radial-gradient(#00FF00,#00FFFF)}75%{background:radial-gradient(#0000FF,#FFFFFF)}to{background:radial-gradient(#FF0000,#FFA500)}}']}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[T.Bz.forChild(M),T.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,x.u5,c.Pc,J]}),n})()}}]);